<div class="popup__container">
  <h2 mat-dialog-title>{{data.isEdit ? 'Edit Product' : 'Add new Product'}} </h2>
  <mat-dialog-content>
    <div class="example-container">
      <form (ngSubmit)="onSubmit()" [formGroup]="ItemForm" class="form__wrapper">
        <div class="row">
          <div class="col-12">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Title</mat-label>
              <input formControlName="title" matInput type="text"/>
              <mat-error *ngIf="ItemForm.controls.title.errors?.required && ItemForm.controls.title.touched">
                Title Required
              </mat-error>
            </mat-form-field>
            <br/>
          </div>
          <div class="col-12">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Price</mat-label>
              <input formControlName="price" matInput type="number"/>
              <mat-error *ngIf="ItemForm.controls.price.errors?.required && ItemForm.controls.price.touched">
                Price Required
              </mat-error>
            </mat-form-field>
            <br/>
          </div>
          <div class="col-12">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Image</mat-label>
              <input formControlName="image" matInput type="text"/>
              <mat-error *ngIf="ItemForm.controls.image.errors?.required &&ItemForm.controls.image.touched">
                Image Required
              </mat-error>
            </mat-form-field>
            <br/>
          </div>
          <div class="col-12">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Category</mat-label>
              <mat-select formControlName="category">
                <mat-option *ngFor="let category of (categories$ | async)" [value]="category">
                  {{ category }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <br/>
          </div>
          <div class="col-12">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Description</mat-label>
              <textarea formControlName="description" matInput type="text"></textarea>
              <mat-error *ngIf="ItemForm.controls.description.errors?.required &&ItemForm.controls.description.touched">
                Description Required
              </mat-error>
            </mat-form-field>
            <br/>
          </div>
        </div>
      </form>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button
      (click)="onSubmit()"
      [class.spinner]="loading" [disabled]="ItemForm.untouched || ItemForm.invalid || loading"
      [ngStyle]="{'cursor':ItemForm.untouched || ItemForm.invalid || loading ? 'not-allowed':'pointer'}"
      color="primary"
      mat-button
    >
      <mat-icon>save</mat-icon>
      Save
    </button>
    <button (click)="dismiss()" color="primary" mat-button>
      <mat-icon>cancel</mat-icon>
      Cancel
    </button>
  </mat-dialog-actions>

</div>
